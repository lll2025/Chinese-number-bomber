<!DOCTYPE html><html lang="zh"><head>  <meta charset="UTF-8">  <meta name="viewport" content="width=device-width, initial-scale=1.0">  <title>时间炸弹数字游戏 / Time Bomb Number Game</title>  <style>    /* 全局样式 / Global Styles */    body {      font-family: 'Microsoft YaHei', sans-serif; /* 中文默认微软雅黑 */      text-align: center;      background: linear-gradient(135deg, #ffe6f2, #f9f1ff);      margin: 0;      padding: 0;      display: flex;      flex-direction: column;      align-items: center;      justify-content: center;      min-height: 100vh;    }    h1 {      color: #d63384;      font-size: 36px;      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);      margin-bottom: 20px;      line-height: 1.2;    }    /* 通用容器 / Common Container */    .container {      background-color: #fff;      padding: 30px;      border-radius: 15px;      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);      width: 400px;      margin: 20px auto;      animation: fadeIn 0.5s ease-in-out;    }    /* 输入姓名、选择数字组 的容器居中显示 */    #name-input-container,    #group-selection {      text-align: center;    }    input {      padding: 10px;      margin: 5px;      border: 1px solid #ccc;      border-radius: 4px;      font-size: 16px;    }    button {      padding: 12px 25px;      background-color: #d63384;      color: #fff;      border: none;      border-radius: 8px;      cursor: pointer;      margin-top: 10px;      font-size: 16px;      transition: all 0.3s ease;    }    button:hover {      background-color: #ad2b66;      transform: scale(1.05);    }    /* 游戏区域 / Game Area */    #game-container {      background-color: #fff;      padding: 30px;      border-radius: 15px;      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);      width: 600px;      margin: 20px auto;      display: none;      position: relative;      animation: fadeIn 0.5s ease-in-out;    }    #player-names {      position: absolute;      top: 10px;      left: 50%;      transform: translateX(-50%);      font-size: 22px;      color: #333;      background-color: rgba(255, 255, 255, 0.8);      padding: 10px 20px;      border-radius: 8px;      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);    }    #number-balls {      position: relative;      width: 500px;      height: 500px;      margin: 60px auto 20px;      background-color: rgba(255,255,255,0.3);      border: 2px dashed #ffd1dc;      border-radius: 50%;    }    .ball {      width: 50px;      height: 50px;      background-color: rgb(255,105,180); /* 默认热粉色 */      border-radius: 50%;      box-shadow: 0 0 10px rgba(0,0,0,0.1);      display: flex;      align-items: center;      justify-content: center;      font-size: 18px;      color: #fff;      position: absolute;      cursor: pointer;      transition: all 0.3s ease;    }    .ball:hover {      transform: scale(1.1);    }    /* 玩家选择后的颜色 / Colors for selected balls */    .ball.player1-selected {      background-color: rgb(60,179,113); /* 明显绿色 */    }    .ball.player2-selected {      background-color: rgb(65,105,225); /* 明显蓝色 */    }    /* 提示信息 / Message area, 分为中文和英文两行 */    #message {      margin-top: 20px;    }    .msg-cn {      font-size: 22px;      font-family: 'Microsoft YaHei', sans-serif;      margin-bottom: 4px;    }    .msg-en {      font-size: 16px;      font-family: 'NewTimes', 'Times New Roman', serif;      color: #666;    }    /* 淡入动画 / Fade-in Animation */    @keyframes fadeIn {      from { opacity: 0; transform: translateY(-20px); }      to { opacity: 1; transform: translateY(0); }    }    /* 游戏结束弹窗 / Game Over Modal */    #game-over-container {      display: none;      position: fixed;      top: 0;      left: 0;      width: 100%;      height: 100%;      background: rgba(0,0,0,0.5);      z-index: 1000;      justify-content: center;      align-items: center;    }    #game-over-panel {      background: #fff;      padding: 30px;      border-radius: 15px;      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);      width: 400px;      text-align: center;    }    #game-over-panel p {      margin: 10px 0;    }  </style></head><body>  <h1>时间炸弹数字游戏<br/>Time Bomb Number Game</h1>    <!-- 玩家姓名输入 / Name Input -->  <div id="name-input-container" class="container">    <p>请输入玩家一和玩家二的名字<br/>Please enter names for Player 1 and Player 2:</p>    <input type="text" id="player1-name" placeholder="玩家一名字 / Player 1 Name">    <input type="text" id="player2-name" placeholder="玩家二名字 / Player 2 Name">    <br>    <button onclick="submitNames()">开始游戏 / Start Game</button>  </div>    <!-- 数字组选择 / Number Group Selection -->  <div id="group-selection" class="container" style="display:none;">    <p>选择你要练习的数字组<br/>Choose the number group to practice:</p>    <button onclick="startGame(1,20)">1 - 20</button>    <button onclick="startGame(21,40)">21 - 40</button>    <button onclick="startGame(41,60)">41 - 60</button>    <button onclick="startGame(61,80)">61 - 80</button>    <button onclick="startGame(81,100)">81 - 100</button>  </div>    <!-- 游戏区域 / Game Area -->  <div id="game-container" class="container" style="display:none; position:relative;">    <div id="player-names"></div>    <div id="number-balls"></div>    <div id="message"></div>  </div>    <!-- 游戏结束弹窗 / Game Over Modal -->  <div id="game-over-container">    <div id="game-over-panel">      <p style="font-size:24px; font-family:'Microsoft YaHei', sans-serif;">游戏结束！</p>      <p style="font-size:18px; font-family:'NewTimes', 'Times New Roman', serif; color:#666;">Game Over!</p>      <button onclick="restartGame()">再来一局 / Restart</button>      <button onclick="exitGame()">退出 / Exit</button>    </div>  </div>    <audio id="explosion-sound" src="explosion.mp3"></audio>  <audio id="safe-sound"></audio>    <script>    let callTurn; // 1: 玩家一叫号, 2: 玩家二叫号. 初始设定由玩家二叫号    let bomb;    let numbers;    let player1Name, player2Name;    let gamePhase = "clicking";  // "clicking" 或 "gameover"        // 提交姓名并显示数字组选择 / Submit names and show group selection    function submitNames() {      player1Name = document.getElementById('player1-name').value.trim() || "玩家一 / Player 1";      player2Name = document.getElementById('player2-name').value.trim() || "玩家二 / Player 2";      document.getElementById('name-input-container').style.display = 'none';      document.getElementById('group-selection').style.display = 'block';    }        // 开始游戏：生成数字板并初始化状态 / Start game: generate number board and initialize state    function startGame(min, max) {      document.getElementById('group-selection').style.display = 'none';      document.getElementById('game-container').style.display = 'block';      document.getElementById('player-names').textContent = `${player1Name} vs ${player2Name}`;            // 初始化数字组 / Initialize numbers      numbers = [];      for (let i = min; i <= max; i++) {        numbers.push(i);      }      // 随机选取炸弹数字 / Randomly choose the bomb number      bomb = numbers[Math.floor(Math.random() * numbers.length)];            // 将数字分为内圈和外圈 / Divide numbers into inner and outer circles      let innerNumbers = numbers.slice(0, 8);      let outerNumbers = numbers.slice(8);            // 清空数字球容器 / Clear the board      const board = document.getElementById('number-balls');      board.innerHTML = "";      const centerX = board.offsetWidth / 2;      const centerY = board.offsetHeight / 2;            // 内圈布局：半径 80 / Inner circle: radius = 80      const innerRadius = 80;      const innerAngleStep = 2 * Math.PI / innerNumbers.length;      innerNumbers.forEach((num, index) => {        const angle = index * innerAngleStep;        const x = centerX + innerRadius * Math.cos(angle);        const y = centerY + innerRadius * Math.sin(angle);        createBall(num, x, y);      });            // 外圈布局：半径 150 / Outer circle: radius = 150      if (outerNumbers.length > 0) {        const outerRadius = 150;        const outerAngleStep = 2 * Math.PI / outerNumbers.length;        outerNumbers.forEach((num, index) => {          const angle = index * outerAngleStep;          const x = centerX + outerRadius * Math.cos(angle);          const y = centerY + outerRadius * Math.sin(angle);          createBall(num, x, y);        });      }            // 初始设定：由玩家二叫号，玩家一点击 / Initially, Player 2 calls and Player 1 clicks.      callTurn = 2;      gamePhase = "clicking";      updateMessage(`请 ${player2Name} 叫号，然后由 ${player1Name} 点击相应数字。 / Please have ${player2Name} call a number, then ${player1Name} click the corresponding ball.`);    }        // 创建数字球 / Create a ball element    function createBall(num, x, y) {      const ball = document.createElement('div');      ball.classList.add('ball');      ball.textContent = num;      ball.style.left = (x - 25) + "px";      ball.style.top = (y - 25) + "px";      ball.addEventListener('click', function() {        ballClicked(num, ball);      });      document.getElementById('number-balls').appendChild(ball);    }        // 数字球点击事件 / Ball click event handler    function ballClicked(clickedNum, ballElement) {      if (gamePhase !== "clicking") return;      // 点击者为 callTurn 相反的一方 / Determine the clicker (opposite of caller)      const clicker = (callTurn === 2) ? player1Name : player2Name;      if (clickedNum === bomb) {        // 点击炸弹则游戏结束 / If the bomb is clicked, game over.        document.getElementById('explosion-sound').play();        updateMessage(`${clicker} 选中了炸弹！ / ${clicker} hit the bomb! Game Over.`);        ballElement.classList.add(callTurn === 2 ? "player1-selected" : "player2-selected");        endGame();        return;      }      // 安全点击：播放安全提示音 / Safe click: play safe sound      document.getElementById('safe-sound').src = `https://tts.baidu.com/text2audio?lan=zh&ie=UTF-8&text=${clickedNum}，安全`;      document.getElementById('safe-sound').play();      if (callTurn === 2) {        ballElement.classList.add("player1-selected");      } else {        ballElement.classList.add("player2-selected");      }      // 交换角色 / Swap roles      callTurn = (callTurn === 1) ? 2 : 1;      const newCaller = (callTurn === 1) ? player1Name : player2Name;      const newClicker = (callTurn === 1) ? player2Name : player1Name;      updateMessage(`请 ${newCaller} 叫号，然后由 ${newClicker} 点击相应数字。 / Please have ${newCaller} call a number, then ${newClicker} click the corresponding ball.`);    }        // 更新提示信息，分成中文和英文两行 / Update message display in two lines (Chinese on top, English below)    function updateMessage(msg) {      const parts = msg.split(" / ");      const cn = parts[0] || "";      const en = parts[1] || "";      document.getElementById('message').innerHTML = `<div class="msg-cn">${cn}</div><div class="msg-en">${en}</div>`;    }        // 游戏结束，显示游戏结束弹窗 / End game: display the Game Over modal    function endGame() {      gamePhase = "gameover";      document.getElementById('game-over-container').style.display = 'flex';    }        // 再来一局：返回数字组选择界面 / Restart the game: return to number group selection    function restartGame() {      document.getElementById('game-over-container').style.display = 'none';      document.getElementById('game-container').style.display = 'none';      gamePhase = "";      updateMessage("");      document.getElementById('group-selection').style.display = 'block';    }        // 退出游戏：返回初始姓名输入界面 / Exit the game: return to name input    function exitGame() {      document.getElementById('game-over-container').style.display = 'none';      document.getElementById('game-container').style.display = 'none';      gamePhase = "";      updateMessage("");      document.getElementById('name-input-container').style.display = 'block';      document.getElementById('group-selection').style.display = 'none';    }  </script></body></html>